{% extends 'base.html.twig' %}

{% block title %}Hello ReservationController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<h1>Mes réservations</h1>

{% if reservations is empty %}
    <p>Aucun livre réservé.</p>
{% else %}
    <table class="table">
        <thead>
            <tr>
                <th>Ouvrage</th>
                <th>Exemplaire</th>
                <th>Date d'emprunt</th>
            </tr>
        </thead>

        <tbody>
        {% for reservation in reservations %}
            <tr>
                <td>{{ reservation.exemplaire.ouvrage.titre }}</td>

                <td>
                    {% if reservation.exemplaire.cote %}
                        {{ reservation.exemplaire.cote }}
                    {% else %}
                        Non indiqué
                    {% endif %}
                </td>

                <td>
                    {{ reservation.dateEmprunt ? reservation.dateEmprunt|date('d/m/Y') : 'Pas encore emprunté' }}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endif %}
{% endblock %}
